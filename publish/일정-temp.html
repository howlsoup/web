<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=link,mail,open_in_new" />
  <title>하울수프 26</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="style.css?251209135538">
  <meta http-equiv="cache-control" content="no-store, no-cache, must-revalidate, post-check=0, pre-check=0" />
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
</head>
<body>
  <header>
    <!-- rem for relative, px for fixed : https://www.joshwcomeau.com/css/surprising-truth-about-pixels-and-accessibility/ -->
    <div class="logo">
      <a href="index.html"><img src="logo2.png" alt="하울수프26" /></a>
      <!-- <div class="date">수원메쎄, 26.01.24</div> -->
    </div>
    <input type="checkbox" id="menuToggle" class="menu mobile">
    <label for="menuToggle" class="hamburger mobile">
      <span></span>
      <span></span>
      <span></span>
    </label>
    <label for="menuToggle" class="hamburger-close mobile"></label>
    <nav>
      <ul>
        <li>
          행사정보
          <ul class="sub">
            <li><a href="26.html">하울수프 26</a></li>
            <li><a href="일정.html">일정</a></li>
            <!-- <li><a href="부스-목록.html">부스 목록</a></li> -->
            <li><a href="#" data-comingsoon="곧 공개됩니다!">부스 목록</a></li>
          </ul>
        </li>

        <li>
          편의기능
          <ul class="sub">
            <li><b>일반참가</b></li>
            <li><a href="https://x.com/HowlSoup_RT" target="_blank">부스정보 RT계정<span class="material-symbols-outlined">open_in_new</span></a></li>
            <!-- <li><a href="부스-알리미.html">부스 알리미</a></li> -->
            <li><a href="#" data-comingsoon="곧 공개됩니다!">부스 알리미</a></li>
            <hr>
            <li><b>부스참가자용</b></li>
            <li><a href="배송대장.html">배송대장</a></li>
            <li><a href="협력업체.html">물품제작 협력업체</a></li>
          </ul>
        </li>

        <li>
          작가참가
          <ul class="sub">
            <li><a href="부스-참가등록.html">부스등록</a></li>
            <!-- <li><a href="부스-규정.html">부스출품규정</a></li> -->
            <li><a href="앤솔로지.html">퍼슈트 앤솔로지 지원</a></li>
          </ul>
        </li>

        <li>
          일반참가
          <ul class="sub">
            <li><a href="일반-티켓구매.html">티켓구매</a></li>
            <!-- <li><a href="일반-규정.html">일반참가규정</a></li> -->
            <!-- <li><a href="하숲퍼슈팅.html">하숲퍼슈팅</a></li> -->
            <li><a href="#" data-comingsoon="곧 공개됩니다!">하숲퍼슈팅</a></li>
          </ul>
        </li>

        <li>
          지원
          <ul class="sub">
            <li><a href="https://x.com/HowlSoup" target="_blank">공식 X<span class="material-symbols-outlined">open_in_new</span></a></li>
            <li><a href="문의처.html">문의처</a></li>
            <li><a href="크레딧.html">크레딧</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>
  
  <article>
    <div class="main"><div class="timeline date-timeline" id="prepTimeline">
  <h2>Preparation Schedule</h2>
  <div class="dday-box">
    <div id="dday-event"></div>
  </div>

  <ul>
    <li data-date="251205">2025/12/05 - Final staff meeting</li>
    <li data-date="251209">2025/12/09 - Booth placement setup</li>
    <li data-date="251231">2025/12/31 - Rehearsal</li>
    <li data-date="260125">2026/01/25 - Event Day</li> <!-- event day -->
  </ul>

  <div class="today-marker"></div>
</div>

<hr>

<div class="timeline time-timeline" id="eventTimeline">
  <h2>Event Day Timeline</h2>

  <ul>
    <li data-date="0900">09:00 - Doors open</li>
    <li data-date="1030">10:30 - Opening Ceremony</li>
    <li data-date="1200">12:00 - Guest Session</li>
    <li data-date="1500">15:00 - Closing Ceremony</li>
  </ul>

  <div class="today-marker"></div>
</div>

<style>
  .timeline {
  position: relative;
  padding-left: 40px;
  margin: 40px 0;
  max-width: 500px;
}

/* vertical line */
.timeline ul {
  list-style: none;
  margin: 0;
  padding: 0;
  border-left: 3px solid #ccc;
  padding-left: 20px;
}

/* items */
.timeline li {
  margin: 30px 0;
  position: relative;
  opacity: 1;
  transition: opacity .3s;
}

/* circle */
.timeline li::before {
  content: "";
  width: 14px;
  height: 14px;
  background: white;
  border: 3px solid #4a90e2;
  border-radius: 50%;
  position: absolute;
  left: -32px;
}

/* today marker */
.today-marker {
  position: absolute;
  left: 3px;
  width: 16px;
  height: 16px;
  background: #ff4081;
  border-radius: 50%;
  transform: translate(-50%, 0);
  transition: top 1s linear;
  pointer-events: none;
}

</style>
<script>
/* ------------------------------
   UTILS
------------------------------ */
function parseYYMMDD(str) {
  const y = 2000 + parseInt(str.slice(0,2));
  const m = parseInt(str.slice(2,4))-1;
  const d = parseInt(str.slice(4,6));
  return new Date(y,m,d);
}

function parseHHmm(str) {
  const h = parseInt(str.slice(0,2));
  const m = parseInt(str.slice(2,4));
  return {h,m};
}

/* ------------------------------
   DATE TIMELINE
------------------------------ */
function initDateTimeline() {
  const timeline = document.getElementById("prepTimeline");
  const ul = timeline.querySelector("ul");
  const lis = [...ul.querySelectorAll("li")];

  const today = new Date();
  let eventDate = parseYYMMDD(lis[lis.length-1].dataset.date);

  /* D-day to event day */
  const diffEvent = Math.ceil((eventDate - new Date())/(86400000));
  document.getElementById("dday-event").textContent =
    `Event Day: D-${diffEvent}`;

  /* TODAY MARKER movement */
  function moveMarker() {
    const marker = timeline.querySelector(".today-marker");
    const rect = ul.getBoundingClientRect();
    const totalHeight = ul.scrollHeight;

    /* progress = % of time between first → last schedule */
    const firstDate = parseYYMMDD(lis[0].dataset.date);
    const lastDate = parseYYMMDD(lis[lis.length-1].dataset.date);

    const range = lastDate - firstDate;
    const elapsed = Date.now() - firstDate;

    let progress = Math.min(1, Math.max(0, elapsed / range));
    marker.style.top = (progress * (totalHeight - 20)) + "px";
  }
  moveMarker();
  setInterval(moveMarker, 1000 * 60); /* update every minute */
}

/* ------------------------------
   TIME TIMELINE
------------------------------ */
function initTimeTimeline() {
  const timeline = document.getElementById("eventTimeline");
  const ul = timeline.querySelector("ul");
  const lis = [...ul.querySelectorAll("li")];
  const marker = timeline.querySelector(".today-marker");

  const today = new Date();

  /* only activate on event day */
  const EVENT_DAY = "2025-12-08"; // ← customize
  const isEventToday = today.toISOString().slice(0,10) === EVENT_DAY;

  if (!isEventToday) {
    marker.style.display = "none";
    return;
  }

  function moveMarker() {
    const now = new Date();
    const minutes = now.getHours()*60 + now.getMinutes();

    const first = lis[0];
    const last = lis[lis.length-1];

    const firstTime = parseHHmm(first.dataset.date);
    const lastTime = parseHHmm(last.dataset.date);

    const startMin = firstTime.h*60 + firstTime.m;
    const endMin = lastTime.h*60 + lastTime.m;

    const progress = (minutes - startMin) / (endMin - startMin);

    const clamped = Math.min(1, Math.max(0, progress));

    marker.style.top = (clamped * (ul.scrollHeight - 20)) + "px";
  }

  moveMarker();
  setInterval(moveMarker, 1000 * 20); // every 20 seconds
}

/* init */
initDateTimeline();
initTimeTimeline();
</script>
</div>
    <footer>
      <img class="center-logo" src="logo2.png" alt="하울수프 로고, 문서의 끝" />
    </footer>
  </article>

</body>
</html>
